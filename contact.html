<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Airstream</title>
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />

    <!-- Import stylesheet -->
    <link rel="stylesheet" href="styles/styles.css"


    <!-- Container -->

    <div class="container-lg min-vh-75 p-4 ">

      <!-- Navigation Bar -->
      <nav class="navbar navbar-expand-sm navbar-dark fw-lighter">

        <div class="container-fluid">

          <a class="navbar-brand" href="#"><img src="img/logo.png" alt="Company logo" class="img-fluid"></a>
          
          <!-- Burger Menu that targets the navigation with the id sitMenu -->  
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Contact</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Sign-In/Login</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      
    <!-- End for Container navbar and header -->

</head>

<body>
    <!-- Toast -->
    <!-- https://getbootstrap.com/docs/5.3/components/toasts/ --> 

    <div class="toast-container p-3 top-0 start-50 translate-middle-x">
        <!-- Put toasts within -->
        <div id="msg-toast" class="toast align-items-center mt-2" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="4000">
            <div class="d-flex">
                <div id="msg-toast-body" class="toast-body"> 
                <!-- Message to be added here -->
                </div>
                <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <!--Container for contact form-->
    <div class="container-fluid min-vh-75 mt-4"></div>
        <div class="container w-50 mt-4"></div>

            <h3 class=" display-1 text-white fw-lighter">Contact Us</h3>
       
            <form class="needs-validation" novalidate onsubmit="SubmitForm{};">

            <!-- Email input -->
            <div data-mdb-input-init class="mb-4">
              <input type="email" id="txtemail" class="form-control" />
              <label class="form-label text-white fw-lighter" for="txtemail">Email Address</label>
            </div class="invalid-email">Please enter a valid email.</div>
            </div>
          
            <!-- Message input -->
            <div data-mdb-input-init class="mb-4">
              <textarea class="form-control" id="txtmessage" rows="4"></textarea>
              <label class="form-label text-white fw-lighter" for="txtmessage">Text Message</label>
            </div class="invalid-email">Please enter a valid message.</div>

          
            <!-- Submit button -->
            <button data-mdb-ripple-init type="button" class="btn btn-primary btn-block mb-4">Send</button>
            </form>
    </div>    

        <!--Add javascript statement-->
        

    <!--Container for end of contact form-->

     <!-- Footer - Copyright -->
     <footer class="text-white fw-lighter text-lg-start">
        <!-- Copyright -->
        <div class="text-center p-3">
          &copy; 2024 Copyright:
          <a class="text-white text-decoration-none" href="#">Airstream &#8482 All rights reserved.</a>
        </div>
        <!-- Copyright -->
      </footer>

    <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
    ></script>

     <!--Add javascript statement-->

    <script>

        //Get the toast element as objects 

        const toastElement = document.getElementById("msg-toast");
        const toastBodyElement = document.getElementById("msg-toastbody");

        //Showtoast for unsuccessful submission of contact form
        if(email.value === ""|| msg.value ===""){
            showToast({toastElement, toastBodyElement,bgColor: "danger", msg: "All inputs must not be empty."})

        //Showtoast for successful submission of contact form
       
                    showToast({toastElement, toastBodyElement,bgColor: "danger", msg: "All inputs must not be empty"});
      
        }           
                 

        // Custom JS statements and function
        
        function submitForm(){
            event.preventDefault(); // prevent form submission refresh 
            console.log("form submitted");

        // get the toast elements as objects
        const toastElement = document.getElementById("msg-toast");
        const toastBodyElement = document.getElementById("msg-toast-body");
        
// Create constant variables to capture from inputs (Const, Let and Var)
// Call the document object of the file 'contact.html' to refer to 'txtEmail' and 'txtMessage'
            const email = document.getElementById("txtEmail") ;
            const msg = document.getElementById("txtMessage") ;

             // trap unsuccesful event 1: txtEmail is not provided
             if(email.value === ""){
                showToast({toastElement, toastBodyElement, bgColor: "danger", msg: "Email is not valid."});
                return;
            }

            // trap unsuccesful event 2: txtMessage is not provided
            if(msg.value === ""){
                showToast({toastElement, toastBodyElement, bgColor: "danger", msg: "Message is not valid."});
                return;
            }

            // showToast for successful submission of the contact form
            ShowToast({toastElement, toastBodyElement, "bgColor:success", msg: "Message Submitted.Thank you!"});
        }    
        
           // Toast functionality for validation or form submission
    function showToast({toastElement, toastBodyElement, bgColor, msg}){
        // Run BootStrap5's toast to show the activity is complete.
        const toastEl = toastElement;
        const toastBody = toastBodyElement;
        toastEl.classList.remove("bg-success"); //remove all known and used colors here first
        toastEl.classList.remove("bg-danger");  //remove all known and used colors here first
        toastEl.classList.add(`bg-${bgColor}`);
        toastEl.classList.add("text-white");
        toastBody.textContent = msg;
        const toast = new bootstrap.Toast(toastEl);
        toast.show();
    }

    // form validation
    (() => {
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            const forms = document.querySelectorAll('.needs-validation')

            // Loop over them and prevent submission
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                }, false)
            })
        })();









           
            console.log(email.value);
            console.log(msg.value);

            const result = email.value + " " + msg.value + "has been sent."
            alert(result); 

        }


    </script>
    

</body>
</html>